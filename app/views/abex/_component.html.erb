<% 
  variant = local_assigns[:variant] || '' 
  chosen_variant = false
%>
<%= chosen_variant %>

<% if variant.present? %>
  <div data-abex-variant="<%= variant %>">
    <%= yield %>
  </div>
  <script>
      var ele = document.querySelector('[data-abex-variant="<%= variant %>"]');
      if (ele) {
        var elVariant = ele.dataset.abexVariant;
        var parentEle = ele.parentElement;
        console.log(elVariant, parentEle);
        if (parentEle) {
          var flagVariant = parentEle.dataset.flagVariant;
          if (flagVariant !== elVariant) {
            ele.remove();
          }
        }
      }
    </script>
<% end %>
